<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Schools Near Pavani Mirabilia, Whitefield</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #3f3f46;
        }
       .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 500px;
        }
        @media (min-width: 768px) {
           .chart-container {
                height: 500px;
                max-height: 600px;
            }
        }
       .filter-btn {
            transition: all 0.2s ease-in-out;
        }
       .filter-btn.active {
            background-color: #0d9488;
            color: #ffffff;
            font-weight: 600;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        details summary {
            list-style: none; /* Remove default arrow */
            cursor: pointer;
            padding: 0.5rem 0;
            position: relative;
        }
        details summary::-webkit-details-marker {
            display: none; /* Remove default arrow for Webkit browsers */
        }
        details summary::after {
            content: '+';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            transition: transform 0.2s ease-in-out;
        }
        details[open] summary::after {
            content: '-';
            transform: translateY(-50%) rotate(0deg);
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-teal-800 tracking-tight">School Finder</h1>
            <p class="mt-2 text-lg text-gray-600 max-w-3xl mx-auto">An Interactive Guide to Top Schools Near Pavani Mirabilia, Whitefield</p>
        </header>

        <main id="app">
            
            <div class="mb-8 p-6 bg-white rounded-2xl shadow-sm border border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800 mb-1">Welcome!</h2>
                <p class="text-gray-600 mb-4">Finding the right school is a big decision. This interactive guide is designed to help you explore and compare top-rated schools in the vicinity of Whitefield and Hoskote Road. Use the filters below to narrow down your options based on curriculum and distance. The chart and the list will update automatically to reflect your choices.</p>
                <div id="filters" class="space-y-4">
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Filter by Curriculum:</h3>
                        <div id="curriculum-filters" class="flex flex-wrap gap-2">
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Filter by Distance:</h3>
                        <div id="distance-filters" class="flex flex-wrap gap-2">
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                <div class="lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-sm border border-gray-200">
                     <h2 class="text-xl font-semibold text-gray-800 mb-2 text-center">School Ratings at a Glance</h2>
                     <p class="text-sm text-gray-500 mb-4 text-center">This chart compares the parent ratings of the selected schools. Use the filters to update the comparison. Higher ratings indicate better overall parent satisfaction.</p>
                    <div class="chart-container">
                        <canvas id="schoolsChart"></canvas>
                    </div>
                </div>
                
                <div id="school-list-container" class="lg:col-span-3">
                    <div class="flex justify-between items-center mb-4">
                         <h2 class="text-xl font-semibold text-gray-800">School Profiles</h2>
                         <span id="school-count" class="text-sm font-medium text-gray-500 bg-gray-100 py-1 px-3 rounded-full"></span>
                    </div>
                    <div id="school-list" class="space-y-4">
                        
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script>
        const schoolData =;

        let chartInstance = null;
        let activeFilters = {
            curriculum: 'All',
            distance: 'All'
        };

        const curriculumEl = document.getElementById('curriculum-filters');
        const distanceEl = document.getElementById('distance-filters');
        const schoolListEl = document.getElementById('school-list');
        const schoolCountEl = document.getElementById('school-count');
        const ctx = document.getElementById('schoolsChart').getContext('2d');

        function getDistanceCategory(distance) {
            if (distance <= 2) return '< 2 km';
            if (distance > 2 && distance <= 5) return '2-5 km';
            if (distance > 5 && distance <= 10) return '5-10 km';
            return '> 10 km';
        }

        function createFilterButtons() {
            const curricula =.sort();
            curricula.forEach(c => {
                const button = document.createElement('button');
                button.textContent = c;
                button.dataset.filter = c;
                button.dataset.type = 'curriculum';
                button.className = `filter-btn py-2 px-4 text-sm font-medium rounded-full bg-white border border-gray-300 text-gray-700 hover:bg-gray-100`;
                if (c === 'All') button.classList.add('active');
                curriculumEl.appendChild(button);
            });

            const distances = ['All', '< 2 km', '2-5 km', '5-10 km', '> 10 km'];
            distances.forEach(d => {
                const button = document.createElement('button');
                button.textContent = d;
                button.dataset.filter = d;
                button.dataset.type = 'distance';
                button.className = `filter-btn py-2 px-4 text-sm font-medium rounded-full bg-white border border-gray-300 text-gray-700 hover:bg-gray-100`;
                if (d === 'All') button.classList.add('active');
                distanceEl.appendChild(button);
            });
        }
        
        function renderSchools() {
            schoolListEl.innerHTML = '';
            
            const filteredData = schoolData.filter(school => {
                const curriculumMatch = activeFilters.curriculum === 'All' |

| school.curriculum.includes(activeFilters.curriculum);
                const distanceMatch = activeFilters.distance === 'All' |

| getDistanceCategory(school.distance) === activeFilters.distance;
                return curriculumMatch && distanceMatch;
            });
            
            filteredData.sort((a,b) => b.rating - a.rating);

            if (filteredData.length === 0) {
                 schoolListEl.innerHTML = `<div class="text-center p-8 bg-white rounded-2xl border border-gray-200"><p class="text-gray-600">No schools match the current filters. Try selecting a different combination.</p></div>`;
            } else {
                filteredData.forEach(school => {
                    const card = `
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden p-5 hover:shadow-md transition-shadow duration-300">
                            <div class="flex justify-between items-start">
                                <h3 class="text-lg font-bold text-teal-700">${school.name}</h3>
                                <div class="flex items-center gap-1 text-amber-500 font-bold bg-amber-50 text-sm py-1 px-3 rounded-full">
                                    <span>â˜…</span>
                                    <span>${school.rating}</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">${school.address}</p>
                            <div class="flex flex-wrap gap-2 mt-3 text-xs">
                                <span class="font-semibold bg-teal-50 text-teal-800 py-1 px-3 rounded-full">${school.curriculum}</span>
                                <span class="font-semibold bg-blue-50 text-blue-800 py-1 px-3 rounded-full">${school.distance} km away</span>
                            </div>
                            <p class="text-gray-600 mt-3 text-sm"><strong>Highlights:</strong> ${school.highlights}</p>
                            
                            <details class="mt-4">
                                <summary class="cursor-pointer font-semibold text-teal-700 hover:text-teal-800">View More Details</summary>
                                <div class="details-content pt-2 text-sm text-gray-700 space-y-2">
                                    ${school.details.philosophy? `<p><strong>Educational Philosophy:</strong> ${school.details.philosophy}</p>` : ''}
                                    ${school.details.facilities? `<p><strong>Facilities:</strong> ${school.details.facilities}</p>` : ''}
                                    ${school.details.parent_feedback? `<p><strong>Parent Feedback:</strong> ${school.details.parent_feedback}</p>` : ''}
                                    ${school.details.admission_process? `<p><strong>Admission Process:</strong> ${school.details.admission_process}</p>` : ''}
                                    ${school.details.fee_structure? `<p><strong>Fee Structure:</strong> ${school.details.fee_structure}</p>` : ''}
                                    <p class="font-semibold mt-3">Contact Information:</p>
                                    <ul>
                                        ${school.phone? `<li><strong>Phone:</strong> ${school.phone}</li>` : ''}
                                        ${school.email? `<li><strong>Email:</strong> <a href="mailto:${school.email}" class="text-blue-600 hover:underline">${school.email}</a></li>` : ''}
                                        ${school.website? `<li><strong>Website:</strong> <a href="http://${school.website}" target="_blank" class="text-blue-600 hover:underline">${school.website}</a></li>` : ''}
                                    </ul>
                                </div>
                            </details>
                        </div>
                    `;
                    schoolListEl.innerHTML += card;
                });
            }

            schoolCountEl.textContent = `${filteredData.length} school(s) found`;
            updateChart(filteredData);
        }

        function updateChart(data) {
            if (chartInstance) {
                chartInstance.destroy();
            }
            
            const sortedData = [...data].sort((a, b) => a.rating - b.rating);

            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sortedData.map(s => s.name),
                    datasets:
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#334155',
                            titleFont: {
                                weight: 'bold'
                            },
                            bodyFont: {
                                size: 14
                            },
                            callbacks: {
                                label: function(context) {
                                    return `Rating: ${context.raw}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 5,
                            grid: {
                                color: '#e5e7eb'
                            },
                            ticks: {
                                color: '#4b5563'
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#4b5563',
                                autoSkip: false,
                                callback: function(value) {
                                    const label = this.getLabelForValue(value);
                                    if (label.length > 25) {
                                        return label.substring(0, 25) + '...';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function handleFilterClick(e) {
            const button = e.target.closest('.filter-btn');
            if (!button) return;

            const filterType = button.dataset.type;
            const filterValue = button.dataset.filter;

            activeFilters = filterValue;

            document.querySelectorAll(`.filter-btn`).forEach(btn => {
                btn.classList.remove('active');
            });
            button.classList.add('active');

            renderSchools();
        }

        document.addEventListener('DOMContentLoaded', () => {
            createFilterButtons();
            renderSchools();
            document.getElementById('filters').addEventListener('click', handleFilterClick);
        });
    </script>

</body>
</html>
